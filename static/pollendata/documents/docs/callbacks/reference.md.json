{"attributes":{"backlinks":[{"tag":"document","title":"Training loop","docid":"/documents/docs/tutorials/training.md"},{"tag":"document","title":"News","docid":"/documents/CHANGELOG.md"},{"tag":"document","title":"Training an image classifier","docid":"/documents/docs/tutorials/mnist.ipynb"},{"tag":"document","title":"How to use callbacks","docid":"/documents/docs/callbacks/usage.md"},{"tag":"document","title":"Overview","docid":"/documents/docs/overview.md"},{"tag":"document","title":"toc","docid":"/documents/toc.md"}],"path":"/home/lorenz/.julia/dev/FluxTraining/docs/callbacks/reference.md","title":"Callback reference"},"tag":"document","children":[{"attributes":{},"tag":"h1","children":[{"mimes":{"text/plain":"Callback reference"}}]},{"attributes":{},"tag":"h2","children":[{"mimes":{"text/plain":"Included callbacks"}}]},{"attributes":{},"tag":"p","children":[{"attributes":{},"tag":"em","children":[{"mimes":{"text/plain":"FluxTraining"}},{"mimes":{"text/plain":"."}},{"mimes":{"text/plain":"jl"}}]},{"mimes":{"text/plain":" comes included with many callbacks"}},{"mimes":{"text/plain":"."}},{"mimes":{"text/plain":" Some of them are added to "}},{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"Learner"}}]},{"mimes":{"text/plain":" by default, here marked with a "}},{"mimes":{"text/plain":"*"}},{"mimes":{"text/plain":"."}}]},{"attributes":{},"tag":"table","children":[{"attributes":{},"tag":"span","children":[{"attributes":{},"tag":"tr","children":[{"attributes":{},"tag":"td","children":[{"mimes":{"text/plain":""}},{"attributes":{},"tag":"strong","children":[{"mimes":{"text/plain":"Callback"}}]},{"mimes":{"text/plain":""}}]},{"attributes":{},"tag":"td","children":[{"mimes":{"text/plain":""}},{"attributes":{},"tag":"strong","children":[{"mimes":{"text/plain":"Description"}}]},{"mimes":{"text/plain":""}}]}]}]},{"attributes":{},"tag":"div","children":[{"attributes":{},"tag":"tr","children":[{"attributes":{},"tag":"td","children":[{"mimes":{"text/plain":""}},{"attributes":{"symbol_id":"FluxTraining.Metrics"},"tag":"refsymbol","children":[{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"Metrics"}}]}]},{"mimes":{"text/plain":"*"}},{"mimes":{"text/plain":""}}]},{"attributes":{},"tag":"td","children":[{"mimes":{"text/plain":"Tracks loss and additional metrics on a per"}},{"mimes":{"text/plain":"-"}},{"mimes":{"text/plain":"step and per"}},{"mimes":{"text/plain":"-"}},{"mimes":{"text/plain":"epoch base"}}]}]},{"attributes":{},"tag":"tr","children":[{"attributes":{},"tag":"td","children":[{"mimes":{"text/plain":""}},{"attributes":{"symbol_id":"FluxTraining.Recorder"},"tag":"refsymbol","children":[{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"Recorder"}}]}]},{"mimes":{"text/plain":"*"}},{"mimes":{"text/plain":""}}]},{"attributes":{},"tag":"td","children":[{"mimes":{"text/plain":"Records training stats like number of steps and epochs"}}]}]},{"attributes":{},"tag":"tr","children":[{"attributes":{},"tag":"td","children":[{"mimes":{"text/plain":""}},{"attributes":{"symbol_id":"FluxTraining.ProgressPrinter"},"tag":"refsymbol","children":[{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"ProgressPrinter"}}]}]},{"mimes":{"text/plain":"*"}},{"mimes":{"text/plain":""}}]},{"attributes":{},"tag":"td","children":[{"mimes":{"text/plain":"Prints a progress bar for the current epoch during training"}}]}]},{"attributes":{},"tag":"tr","children":[{"attributes":{},"tag":"td","children":[{"mimes":{"text/plain":""}},{"attributes":{"symbol_id":"FluxTraining.MetricsPrinter"},"tag":"refsymbol","children":[{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"MetricsPrinter"}}]}]},{"mimes":{"text/plain":"*"}},{"mimes":{"text/plain":""}}]},{"attributes":{},"tag":"td","children":[{"mimes":{"text/plain":"Prints out metrics after every epoch"}}]}]},{"attributes":{},"tag":"tr","children":[{"attributes":{},"tag":"td","children":[{"mimes":{"text/plain":""}},{"attributes":{"symbol_id":"FluxTraining.SanityCheck"},"tag":"refsymbol","children":[{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"SanityCheck"}}]}]},{"mimes":{"text/plain":"*"}},{"mimes":{"text/plain":""}}]},{"attributes":{},"tag":"td","children":[{"mimes":{"text/plain":"Performs sanity checks on data, model and loss before training"}}]}]},{"attributes":{},"tag":"tr","children":[{"attributes":{},"tag":"td","children":[{"mimes":{"text/plain":""}},{"attributes":{"symbol_id":"FluxTraining.StopOnNaNLoss"},"tag":"refsymbol","children":[{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"StopOnNaNLoss"}}]}]},{"mimes":{"text/plain":""}}]},{"attributes":{},"tag":"td","children":[{"mimes":{"text/plain":"Stops training early if a step loss is "}},{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"NaN"}}]},{"mimes":{"text/plain":""}}]}]},{"attributes":{},"tag":"tr","children":[{"attributes":{},"tag":"td","children":[{"mimes":{"text/plain":""}},{"attributes":{"symbol_id":"FluxTraining.ToGPU"},"tag":"refsymbol","children":[{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"ToGPU"}}]}]},{"mimes":{"text/plain":""}}]},{"attributes":{},"tag":"td","children":[{"mimes":{"text/plain":"Trains using a CUDA GPU if available"}}]}]},{"attributes":{},"tag":"tr","children":[{"attributes":{},"tag":"td","children":[{"mimes":{"text/plain":""}},{"attributes":{"symbol_id":"FluxTraining.Checkpointer"},"tag":"refsymbol","children":[{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"Checkpointer"}}]}]},{"mimes":{"text/plain":""}}]},{"attributes":{},"tag":"td","children":[{"mimes":{"text/plain":"Saves the model after every epoch"}}]}]},{"attributes":{},"tag":"tr","children":[{"attributes":{},"tag":"td","children":[{"mimes":{"text/plain":""}},{"attributes":{"symbol_id":"FluxTraining.EarlyStopping"},"tag":"refsymbol","children":[{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"EarlyStopping"}}]}]},{"mimes":{"text/plain":""}}]},{"attributes":{},"tag":"td","children":[{"mimes":{"text/plain":"Stops training early when a criterion is met"}}]}]},{"attributes":{},"tag":"tr","children":[{"attributes":{},"tag":"td","children":[{"mimes":{"text/plain":""}},{"attributes":{"symbol_id":"FluxTraining.Scheduler"},"tag":"refsymbol","children":[{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"Scheduler"}}]}]},{"mimes":{"text/plain":""}}]},{"attributes":{},"tag":"td","children":[{"mimes":{"text/plain":"Schedules hyperparameters"}}]}]},{"attributes":{},"tag":"tr","children":[{"attributes":{},"tag":"td","children":[{"mimes":{"text/plain":""}},{"attributes":{"symbol_id":"FluxTraining.LogMetrics"},"tag":"refsymbol","children":[{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"LogMetrics"}}]}]},{"mimes":{"text/plain":""}}]},{"attributes":{},"tag":"td","children":[{"mimes":{"text/plain":"Logs metrics to a logging backend"}}]}]},{"attributes":{},"tag":"tr","children":[{"attributes":{},"tag":"td","children":[{"mimes":{"text/plain":""}},{"attributes":{"symbol_id":"FluxTraining.LogHyperParams"},"tag":"refsymbol","children":[{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"LogHyperParams"}}]}]},{"mimes":{"text/plain":""}}]},{"attributes":{},"tag":"td","children":[{"mimes":{"text/plain":"Logs hyperparameters to a logging backend"}}]}]},{"attributes":{},"tag":"tr","children":[{"attributes":{},"tag":"td","children":[{"mimes":{"text/plain":""}},{"attributes":{"symbol_id":"FluxTraining.LogVisualization"},"tag":"refsymbol","children":[{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"LogVisualization"}}]}]},{"mimes":{"text/plain":""}}]},{"attributes":{},"tag":"td","children":[{"mimes":{"text/plain":"Logs visualization to a logging backend"}}]}]},{"attributes":{},"tag":"tr","children":[{"attributes":{},"tag":"td","children":[{"mimes":{"text/plain":""}},{"attributes":{"symbol_id":"FluxTraining.LogHistograms"},"tag":"refsymbol","children":[{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"LogHistograms"}}]}]},{"mimes":{"text/plain":""}}]},{"attributes":{},"tag":"td","children":[{"mimes":{"text/plain":"Logs model weight histograms to a logging backend"}}]}]}]}]},{"attributes":{},"tag":"p","children":[{"mimes":{"text/plain":"There are also some utilities for creating callbacks:"}}]},{"attributes":{},"tag":"ul","children":[{"attributes":{},"tag":"li","children":[{"attributes":{},"tag":"p","children":[{"attributes":{"symbol_id":"FluxTraining.CustomCallback"},"tag":"refsymbol","children":[{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"CustomCallback"}}]}]},{"mimes":{"text/plain":" to quickly hook a function into an event"}}]}]},{"attributes":{},"tag":"li","children":[{"attributes":{},"tag":"p","children":[{"attributes":{"symbol_id":"FluxTraining.throttle"},"tag":"refsymbol","children":[{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"throttle"}}]}]},{"mimes":{"text/plain":" to run a callback only after every "}},{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"n"}}]},{"mimes":{"text/plain":" events or every "}},{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"t"}}]},{"mimes":{"text/plain":" seconds"}}]}]}]},{"attributes":{},"tag":"p","children":[{"mimes":{"text/plain":"And for working with callbacks on an existing "}},{"attributes":{"symbol_id":"FluxTraining.Learner"},"tag":"refsymbol","children":[{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"Learner"}}]}]},{"mimes":{"text/plain":":"}}]},{"attributes":{},"tag":"ul","children":[{"attributes":{},"tag":"li","children":[{"attributes":{},"tag":"p","children":[{"attributes":{"symbol_id":"FluxTraining.setcallbacks!"},"tag":"refsymbol","children":[{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"setcallbacks!"}}]}]}]}]},{"attributes":{},"tag":"li","children":[{"attributes":{},"tag":"p","children":[{"attributes":{"symbol_id":"FluxTraining.addcallback!"},"tag":"refsymbol","children":[{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"addcallback!"}}]}]}]}]},{"attributes":{},"tag":"li","children":[{"attributes":{},"tag":"p","children":[{"attributes":{"symbol_id":"FluxTraining.getcallback"},"tag":"refsymbol","children":[{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"getcallback"}}]}]}]}]},{"attributes":{},"tag":"li","children":[{"attributes":{},"tag":"p","children":[{"attributes":{"symbol_id":"FluxTraining.replacecallback!"},"tag":"refsymbol","children":[{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"replacecallback!"}}]}]}]}]},{"attributes":{},"tag":"li","children":[{"attributes":{},"tag":"p","children":[{"attributes":{"symbol_id":"FluxTraining.removecallback!"},"tag":"refsymbol","children":[{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"removecallback!"}}]}]}]}]}]},{"attributes":{},"tag":"h2","children":[{"mimes":{"text/plain":"Extension API"}}]},{"attributes":{},"tag":"p","children":[{"mimes":{"text/plain":"The following types and functions can be used to create custom callbacks"}},{"mimes":{"text/plain":"."}},{"mimes":{"text/plain":" Read the "}},{"attributes":{"href":"./custom.md","title":"","document_id":"/documents/docs/callbacks/custom.md"},"tag":"refdocument","children":[{"mimes":{"text/plain":"custom callbacks guide"}}]},{"mimes":{"text/plain":" for more context"}},{"mimes":{"text/plain":"."}}]},{"attributes":{},"tag":"ul","children":[{"attributes":{},"tag":"li","children":[{"attributes":{},"tag":"p","children":[{"attributes":{"symbol_id":"FluxTraining.Callback"},"tag":"refsymbol","children":[{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"Callback"}}]}]}]}]},{"attributes":{},"tag":"li","children":[{"attributes":{},"tag":"p","children":[{"attributes":{"symbol_id":"FluxTraining.stateaccess"},"tag":"refsymbol","children":[{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"stateaccess"}}]}]}]}]},{"attributes":{},"tag":"li","children":[{"attributes":{},"tag":"p","children":[{"attributes":{"symbol_id":"FluxTraining.runafter"},"tag":"refsymbol","children":[{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"runafter"}}]}]}]}]},{"attributes":{},"tag":"li","children":[{"attributes":{},"tag":"p","children":[{"attributes":{"symbol_id":"FluxTraining.resolveconflict"},"tag":"refsymbol","children":[{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"resolveconflict"}}]}]}]}]}]}]}