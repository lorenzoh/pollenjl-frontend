{"attributes":{"backlinks":[{"tag":"document","title":"toc","docid":"documents/toc.md"}],"path":"/home/lorenz/.julia/dev/FluxTraining/docs/callbacks/tipstricks.md","title":"Tips & tricks"},"tag":"document","children":[{"attributes":{"result":"false","output":"false","class":"cellcontainer","cell":"main","lang":"julia","style":"display:none"},"tag":"div","children":[{"attributes":{"result":"false","output":"false","class":"codecell","cell":"main","lang":"julia","style":"display:none"},"tag":"codeblock","children":[{"attributes":{},"tag":"CST_DEFINITION","children":[{"attributes":{},"tag":"CST_using","children":[{"attributes":{},"tag":"CST_span","children":[{"attributes":{},"tag":"CST_KEYWORD","children":[{"mimes":{"text/plain":"using"}}]},{"attributes":{},"tag":"CST_whitespace","children":[{"mimes":{"text/plain":" "}}]}]},{"attributes":{},"tag":"CST_OPERATOR","children":[{"attributes":{},"tag":"CST_span","children":[{"attributes":{"reftype":"symbol","document_id":"references/FluxTraining"},"tag":"reference","children":[{"mimes":{"text/plain":"FluxTraining"}}]},{"attributes":{},"tag":"CST_whitespace","children":[{"mimes":{"text/plain":"\n"}}]}]}]}]}]},{"attributes":{},"tag":"CST_DEFINITION","children":[{"attributes":{},"tag":"CST_using","children":[{"attributes":{},"tag":"CST_span","children":[{"attributes":{},"tag":"CST_KEYWORD","children":[{"mimes":{"text/plain":"using"}}]},{"attributes":{},"tag":"CST_whitespace","children":[{"mimes":{"text/plain":" "}}]}]},{"attributes":{},"tag":"CST_OPERATOR","children":[{"attributes":{"reftype":"symbol","document_id":"references/FluxTraining"},"tag":"reference","children":[{"mimes":{"text/plain":"FluxTraining"}}]},{"attributes":{},"tag":"CST_PUNCTUATION","children":[{"mimes":{"text/plain":"."}}]},{"attributes":{"reftype":"symbol","document_id":"references/FluxTraining.Events"},"tag":"reference","children":[{"mimes":{"text/plain":"Events"}}]}]},{"attributes":{},"tag":"CST_PUNCTUATION","children":[{"mimes":{"text/plain":", "}}]},{"attributes":{},"tag":"CST_OPERATOR","children":[{"attributes":{"reftype":"symbol","document_id":"references/FluxTraining"},"tag":"reference","children":[{"mimes":{"text/plain":"FluxTraining"}}]},{"attributes":{},"tag":"CST_PUNCTUATION","children":[{"mimes":{"text/plain":"."}}]},{"attributes":{"reftype":"symbol","document_id":"references/FluxTraining.Phases"},"tag":"reference","children":[{"mimes":{"text/plain":"Phases"}}]}]}]}]}]},{"mimes":{"text/plain":""}},{"mimes":{"text/plain":""}}]},{"attributes":{},"tag":"h1","children":[{"mimes":{"text/plain":"Tips "}},{"mimes":{"text/plain":"&"}},{"mimes":{"text/plain":" tricks"}}]},{"attributes":{},"tag":"h2","children":[{"mimes":{"text/plain":"Listing event handlers for a callback"}}]},{"attributes":{},"tag":"p","children":[{"mimes":{"text/plain":"Use "}},{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"Base.methods"}}]},{"mimes":{"text/plain":" to check what events a callback handles:"}}]},{"attributes":{"class":"cellcontainer","cell":"main","lang":"julia"},"tag":"div","children":[{"attributes":{"class":"codecell","cell":"main","lang":"julia"},"tag":"codeblock","children":[{"attributes":{},"tag":"CST_DEFINITION","children":[{"attributes":{},"tag":"CST_call","children":[{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"methods"}}]},{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":"("}}]},{"attributes":{},"tag":"CST_OPERATOR","children":[{"attributes":{"reftype":"symbol","document_id":"references/FluxTraining"},"tag":"reference","children":[{"mimes":{"text/plain":"FluxTraining"}}]},{"attributes":{},"tag":"CST_OPERATOR","children":[{"mimes":{"text/plain":"."}}]},{"attributes":{},"tag":"CST_quotenode","children":[{"attributes":{"reftype":"symbol","document_id":"references/FluxTraining.on"},"tag":"reference","children":[{"mimes":{"text/plain":"on"}}]}]}]},{"attributes":{},"tag":"CST_PUNCTUATION","children":[{"mimes":{"text/plain":", "}}]},{"attributes":{},"tag":"CST_tuple","children":[{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":"("}}]},{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"Any"}}]},{"attributes":{},"tag":"CST_PUNCTUATION","children":[{"mimes":{"text/plain":", "}}]},{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"Any"}}]},{"attributes":{},"tag":"CST_PUNCTUATION","children":[{"mimes":{"text/plain":", "}}]},{"attributes":{"reftype":"symbol","document_id":"references/FluxTraining.Recorder"},"tag":"reference","children":[{"mimes":{"text/plain":"Recorder"}}]},{"attributes":{},"tag":"CST_PUNCTUATION","children":[{"mimes":{"text/plain":", "}}]},{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"Any"}}]},{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":")"}}]}]},{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":")"}}]}]}]}]},{"mimes":{"text/plain":""}},{"attributes":{"class":"coderesult"},"tag":"div","children":[{"mimes":{"text/plain":"# 4 methods for generic function \"on\":\n[1] on(::FluxTraining.Events.EpochBegin, phase::FluxTraining.Phases.Phase, recorder::Recorder, learner) in FluxTraining at /home/lorenz/.julia/dev/FluxTraining/src/callbacks/recorder.jl:31\n[2] on(::FluxTraining.Events.EpochEnd, phase::FluxTraining.Phases.Phase, recorder::Recorder, learner) in FluxTraining at /home/lorenz/.julia/dev/FluxTraining/src/callbacks/recorder.jl:43\n[3] on(::FluxTraining.Events.StepEnd, phase::FluxTraining.Phases.Phase, recorder::Recorder, learner) in FluxTraining at /home/lorenz/.julia/dev/FluxTraining/src/callbacks/recorder.jl:36\n[4] on(::FluxTraining.Events.Event, phase, ::FluxTraining.SafeCallback, learner) in FluxTraining at /home/lorenz/.julia/dev/FluxTraining/src/callbacks/callback.jl:142","text/html":"# 4 methods for generic function <b>on</b>:<ul><li> on(::<b>FluxTraining.Events.EpochBegin</b>, phase::<b>FluxTraining.Phases.Phase</b>, recorder::<b>Recorder</b>, learner) in FluxTraining at <a href=\"https://github.com/FluxML/FluxTraining.jl/tree/3182bb579f24c31e3b45e0ed1db388ef537156ba//src/callbacks/recorder.jl#L31\" target=\"_blank\">/home/lorenz/.julia/dev/FluxTraining/src/callbacks/recorder.jl:31</a></li> <li> on(::<b>FluxTraining.Events.EpochEnd</b>, phase::<b>FluxTraining.Phases.Phase</b>, recorder::<b>Recorder</b>, learner) in FluxTraining at <a href=\"https://github.com/FluxML/FluxTraining.jl/tree/3182bb579f24c31e3b45e0ed1db388ef537156ba//src/callbacks/recorder.jl#L43\" target=\"_blank\">/home/lorenz/.julia/dev/FluxTraining/src/callbacks/recorder.jl:43</a></li> <li> on(::<b>FluxTraining.Events.StepEnd</b>, phase::<b>FluxTraining.Phases.Phase</b>, recorder::<b>Recorder</b>, learner) in FluxTraining at <a href=\"https://github.com/FluxML/FluxTraining.jl/tree/3182bb579f24c31e3b45e0ed1db388ef537156ba//src/callbacks/recorder.jl#L36\" target=\"_blank\">/home/lorenz/.julia/dev/FluxTraining/src/callbacks/recorder.jl:36</a></li> <li> on(::<b>FluxTraining.Events.Event</b>, phase, ::<b>FluxTraining.SafeCallback</b>, learner) in FluxTraining at <a href=\"https://github.com/FluxML/FluxTraining.jl/tree/3182bb579f24c31e3b45e0ed1db388ef537156ba//src/callbacks/callback.jl#L142\" target=\"_blank\">/home/lorenz/.julia/dev/FluxTraining/src/callbacks/callback.jl:142</a></li> </ul>"}}]}]},{"attributes":{},"tag":"h2","children":[{"mimes":{"text/plain":"Visualize the callback dependency graph"}}]},{"attributes":{},"tag":"p","children":[{"mimes":{"text/plain":"You can use "}},{"attributes":{"href":"https://juliagraphs.github.io/GraphPlot.jl/","title":""},"tag":"a","children":[{"attributes":{},"tag":"em","children":[{"mimes":{"text/plain":"GraphPlot"}},{"mimes":{"text/plain":"."}},{"mimes":{"text/plain":"jl"}}]}]},{"mimes":{"text/plain":" to visualize the dependencies between callbacks:"}}]},{"attributes":{"result":"false","output":"false","class":"cellcontainer","cell":"main","lang":"julia","style":"display:none"},"tag":"div","children":[{"attributes":{"result":"false","output":"false","class":"codecell","cell":"main","lang":"julia","style":"display:none"},"tag":"codeblock","children":[{"attributes":{},"tag":"CST_DEFINITION","children":[{"attributes":{},"tag":"CST_toplevel","children":[{"attributes":{},"tag":"CST_OPERATOR","children":[{"attributes":{},"tag":"CST_span","children":[{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"learner"}}]},{"attributes":{},"tag":"CST_whitespace","children":[{"mimes":{"text/plain":" "}}]}]},{"attributes":{},"tag":"CST_OPERATOR","children":[{"mimes":{"text/plain":"= "}}]},{"attributes":{},"tag":"CST_call","children":[{"attributes":{"reftype":"symbol","document_id":"references/FluxTraining.Learner"},"tag":"reference","children":[{"mimes":{"text/plain":"Learner"}}]},{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":"(\n    "}}]},{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"nothing"}}]},{"attributes":{},"tag":"CST_PUNCTUATION","children":[{"mimes":{"text/plain":", "}}]},{"attributes":{},"tag":"CST_tuple","children":[{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":"("}}]},{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"nothing"}}]},{"attributes":{},"tag":"CST_PUNCTUATION","children":[{"mimes":{"text/plain":", "}}]},{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"nothing"}}]},{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":")"}}]}]},{"attributes":{},"tag":"CST_PUNCTUATION","children":[{"mimes":{"text/plain":", "}}]},{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"nothing"}}]},{"attributes":{},"tag":"CST_PUNCTUATION","children":[{"mimes":{"text/plain":", "}}]},{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"nothing"}}]},{"attributes":{},"tag":"CST_PUNCTUATION","children":[{"mimes":{"text/plain":",  # dummy arguments\n    "}}]},{"attributes":{},"tag":"CST_call","children":[{"attributes":{"reftype":"symbol","document_id":"references/FluxTraining.ToGPU"},"tag":"reference","children":[{"mimes":{"text/plain":"ToGPU"}}]},{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":"("}}]},{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":")"}}]}]},{"attributes":{},"tag":"CST_PUNCTUATION","children":[{"mimes":{"text/plain":",\n"}}]},{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":");"}}]}]}]}]}]}]},{"mimes":{"text/plain":""}},{"mimes":{"text/plain":""}}]},{"attributes":{"class":"cellcontainer","cell":"main","lang":"julia"},"tag":"div","children":[{"attributes":{"class":"codecell","cell":"main","lang":"julia"},"tag":"codeblock","children":[{"attributes":{},"tag":"CST_DEFINITION","children":[{"attributes":{},"tag":"CST_using","children":[{"attributes":{},"tag":"CST_span","children":[{"attributes":{},"tag":"CST_KEYWORD","children":[{"mimes":{"text/plain":"using"}}]},{"attributes":{},"tag":"CST_whitespace","children":[{"mimes":{"text/plain":" "}}]}]},{"attributes":{},"tag":"CST_OPERATOR","children":[{"attributes":{},"tag":"CST_span","children":[{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"GraphPlot"}}]},{"attributes":{},"tag":"CST_whitespace","children":[{"mimes":{"text/plain":"\n"}}]}]}]}]}]},{"attributes":{},"tag":"CST_DEFINITION","children":[{"attributes":{},"tag":"CST_call","children":[{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"gplot"}}]},{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":"("}}]},{"attributes":{},"tag":"CST_OPERATOR","children":[{"attributes":{},"tag":"CST_OPERATOR","children":[{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"learner"}}]},{"attributes":{},"tag":"CST_OPERATOR","children":[{"mimes":{"text/plain":"."}}]},{"attributes":{},"tag":"CST_quotenode","children":[{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"callbacks"}}]}]}]},{"attributes":{},"tag":"CST_OPERATOR","children":[{"mimes":{"text/plain":"."}}]},{"attributes":{},"tag":"CST_quotenode","children":[{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"graph"}}]}]}]},{"attributes":{},"tag":"CST_PUNCTUATION","children":[{"mimes":{"text/plain":", "}}]},{"attributes":{},"tag":"CST_kw","children":[{"attributes":{},"tag":"CST_span","children":[{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"nodelabel"}}]},{"attributes":{},"tag":"CST_whitespace","children":[{"mimes":{"text/plain":" "}}]}]},{"attributes":{},"tag":"CST_OPERATOR","children":[{"mimes":{"text/plain":"= "}}]},{"attributes":{},"tag":"CST_OPERATOR","children":[{"attributes":{},"tag":"CST_OPERATOR","children":[{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"learner"}}]},{"attributes":{},"tag":"CST_OPERATOR","children":[{"mimes":{"text/plain":"."}}]},{"attributes":{},"tag":"CST_quotenode","children":[{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"callbacks"}}]}]}]},{"attributes":{},"tag":"CST_OPERATOR","children":[{"mimes":{"text/plain":"."}}]},{"attributes":{},"tag":"CST_quotenode","children":[{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"cbs"}}]}]}]}]},{"attributes":{},"tag":"CST_PUNCTUATION","children":[{"mimes":{"text/plain":", "}}]},{"attributes":{},"tag":"CST_kw","children":[{"attributes":{},"tag":"CST_span","children":[{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"layout"}}]},{"attributes":{},"tag":"CST_whitespace","children":[{"mimes":{"text/plain":" "}}]}]},{"attributes":{},"tag":"CST_OPERATOR","children":[{"mimes":{"text/plain":"= "}}]},{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"stressmajorize_layout"}}]}]},{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":")"}}]}]}]}]},{"mimes":{"text/plain":""}},{"attributes":{"class":"coderesult"},"tag":"pre","children":[{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"LoadError(\"string\", 1, ArgumentError(\"Package GraphPlot not found in current path:\\n- Run `import Pkg; Pkg.add(\\\"GraphPlot\\\")` to install the GraphPlot package.\\n\"))"}}]}]}]},{"attributes":{},"tag":"p","children":[{"attributes":{},"tag":"em","children":[{"mimes":{"text/plain":"(the target of an arrow depends on the origin)"}}]}]},{"attributes":{},"tag":"p","children":[{"mimes":{"text/plain":"As an example for a detected dependency, we can see that "}},{"attributes":{"reftype":"symbol","document_id":"references/FluxTraining.MetricsPrinter"},"tag":"reference","children":[{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"MetricsPrinter"}}]}]},{"mimes":{"text/plain":" runs after "}},{"attributes":{"reftype":"symbol","document_id":"references/FluxTraining.Metrics"},"tag":"reference","children":[{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"Metrics"}}]}]},{"mimes":{"text/plain":"."}},{"mimes":{"text/plain":" "}},{"attributes":{"reftype":"symbol","document_id":"references/FluxTraining.MetricsPrinter"},"tag":"reference","children":[{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"MetricsPrinter"}}]}]},{"mimes":{"text/plain":" prints the values of all metrics, so "}},{"mimes":{"text/plain":"["}},{"attributes":{},"tag":"code","children":[{"mimes":{"text/plain":"Metrics"}}]},{"mimes":{"text/plain":"]"}},{"mimes":{"text/plain":" needs to run first"}},{"mimes":{"text/plain":"."}}]}]}