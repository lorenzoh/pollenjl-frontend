{"attributes":{"backlinks":[],"path":"/home/lorenz/.julia/dev/DataLoaders/src/workerpool.jl","title":"DataLoaders/src/workerpool.jl"},"tag":"sourcefile","children":[{"attributes":{"startline":1,"endline":76},"tag":"codeblock","children":[{"attributes":{},"tag":"CST_DEFINITION","children":[{"attributes":{},"tag":"CST_macrocall","children":[{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"@enum "}}]},{"attributes":{},"tag":"CST_NOTHING","children":[{"mimes":{"text/plain":""}}]},{"attributes":{"reftype":"symbol","document_id":"references/DataLoaders.PoolState"},"tag":"reference","children":[{"mimes":{"text/plain":"PoolState "}}]},{"attributes":{},"tag":"CST_block","children":[{"attributes":{},"tag":"CST_KEYWORD","children":[{"mimes":{"text/plain":"begin\n    "}}]},{"attributes":{"reftype":"symbol","document_id":"references/DataLoaders.Done"},"tag":"reference","children":[{"mimes":{"text/plain":"Done\n    "}}]},{"attributes":{"reftype":"symbol","document_id":"references/DataLoaders.Running"},"tag":"reference","children":[{"mimes":{"text/plain":"Running\n    "}}]},{"attributes":{"reftype":"symbol","document_id":"references/DataLoaders.Failed"},"tag":"reference","children":[{"mimes":{"text/plain":"Failed\n"}}]},{"attributes":{},"tag":"CST_KEYWORD","children":[{"mimes":{"text/plain":"end\n\n"}}]}]}]}]},{"attributes":{},"tag":"CST_DEFINITION","children":[{"attributes":{},"tag":"CST_struct","children":[{"attributes":{},"tag":"CST_KEYWORD","children":[{"mimes":{"text/plain":"struct "}}]},{"attributes":{},"tag":"CST_FALSE","children":[{"mimes":{"text/plain":""}}]},{"attributes":{},"tag":"CST_OPERATOR","children":[{"attributes":{"reftype":"symbol","document_id":"references/DataLoaders.PoolFailedException"},"tag":"reference","children":[{"mimes":{"text/plain":"PoolFailedException "}}]},{"attributes":{},"tag":"CST_OPERATOR","children":[{"mimes":{"text/plain":"<: "}}]},{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"Exception\n    "}}]}]},{"attributes":{},"tag":"CST_block","children":[{"attributes":{},"tag":"CST_OPERATOR","children":[{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"s"}}]},{"attributes":{},"tag":"CST_OPERATOR","children":[{"mimes":{"text/plain":"::"}}]},{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"Any\n"}}]}]}]},{"attributes":{},"tag":"CST_KEYWORD","children":[{"mimes":{"text/plain":"end\n\n"}}]}]}]},{"attributes":{},"tag":"CST_DEFINITION","children":[{"attributes":{},"tag":"CST_struct","children":[{"attributes":{},"tag":"CST_KEYWORD","children":[{"mimes":{"text/plain":"mutable "}}]},{"attributes":{},"tag":"CST_KEYWORD","children":[{"mimes":{"text/plain":"struct "}}]},{"attributes":{},"tag":"CST_TRUE","children":[{"mimes":{"text/plain":""}}]},{"attributes":{},"tag":"CST_curly","children":[{"attributes":{"reftype":"symbol","document_id":"references/DataLoaders.WorkerPool"},"tag":"reference","children":[{"mimes":{"text/plain":"WorkerPool"}}]},{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":"{"}}]},{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"TArgs"}}]},{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":"}\n    "}}]}]},{"attributes":{},"tag":"CST_block","children":[{"attributes":{},"tag":"CST_OPERATOR","children":[{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"workerfn"}}]},{"attributes":{},"tag":"CST_OPERATOR","children":[{"mimes":{"text/plain":"::"}}]},{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"Any\n    "}}]}]},{"attributes":{},"tag":"CST_OPERATOR","children":[{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"args"}}]},{"attributes":{},"tag":"CST_OPERATOR","children":[{"mimes":{"text/plain":"::"}}]},{"attributes":{},"tag":"CST_curly","children":[{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"Vector"}}]},{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":"{"}}]},{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"TArgs"}}]},{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":"}\n    "}}]}]}]},{"attributes":{},"tag":"CST_OPERATOR","children":[{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"useprimary"}}]},{"attributes":{},"tag":"CST_OPERATOR","children":[{"mimes":{"text/plain":"::"}}]},{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"Bool\n    "}}]}]},{"attributes":{},"tag":"CST_OPERATOR","children":[{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"state"}}]},{"attributes":{},"tag":"CST_OPERATOR","children":[{"mimes":{"text/plain":"::"}}]},{"attributes":{"reftype":"symbol","document_id":"references/DataLoaders.PoolState"},"tag":"reference","children":[{"mimes":{"text/plain":"PoolState\n    "}}]}]},{"attributes":{},"tag":"CST_OPERATOR","children":[{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"ntasks"}}]},{"attributes":{},"tag":"CST_OPERATOR","children":[{"mimes":{"text/plain":"::"}}]},{"attributes":{},"tag":"CST_curly","children":[{"attributes":{},"tag":"CST_OPERATOR","children":[{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"Threads"}}]},{"attributes":{},"tag":"CST_OPERATOR","children":[{"mimes":{"text/plain":"."}}]},{"attributes":{},"tag":"CST_quotenode","children":[{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"Atomic"}}]}]}]},{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":"{"}}]},{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"Int"}}]},{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":"}\n"}}]}]}]}]},{"attributes":{},"tag":"CST_KEYWORD","children":[{"mimes":{"text/plain":"end\n\n\n"}}]}]}]},{"attributes":{},"tag":"CST_DEFINITION","children":[{"attributes":{},"tag":"CST_function","children":[{"attributes":{},"tag":"CST_KEYWORD","children":[{"mimes":{"text/plain":"function "}}]},{"attributes":{},"tag":"CST_where","children":[{"attributes":{},"tag":"CST_call","children":[{"attributes":{"reftype":"symbol","document_id":"references/DataLoaders.WorkerPool"},"tag":"reference","children":[{"mimes":{"text/plain":"WorkerPool"}}]},{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":"("}}]},{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"workerfn"}}]},{"attributes":{},"tag":"CST_PUNCTUATION","children":[{"mimes":{"text/plain":", "}}]},{"attributes":{},"tag":"CST_OPERATOR","children":[{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"args"}}]},{"attributes":{},"tag":"CST_OPERATOR","children":[{"mimes":{"text/plain":"::"}}]},{"attributes":{},"tag":"CST_curly","children":[{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"AbstractVector"}}]},{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":"{"}}]},{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"TArgs"}}]},{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":"}; "}}]}]}]},{"attributes":{},"tag":"CST_parameters","children":[{"attributes":{},"tag":"CST_kw","children":[{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"useprimary "}}]},{"attributes":{},"tag":"CST_OPERATOR","children":[{"mimes":{"text/plain":"= "}}]},{"attributes":{},"tag":"CST_FALSE","children":[{"mimes":{"text/plain":"false"}}]}]}]},{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":") "}}]}]},{"attributes":{},"tag":"CST_OPERATOR","children":[{"mimes":{"text/plain":"where "}}]},{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":"{"}}]},{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"TArgs"}}]},{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":"}\n    "}}]}]},{"attributes":{},"tag":"CST_block","children":[{"attributes":{},"tag":"CST_OPERATOR","children":[{"attributes":{},"tag":"CST_brackets","children":[{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":"("}}]},{"attributes":{},"tag":"CST_OPERATOR","children":[{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"useprimary "}}]},{"attributes":{},"tag":"CST_OPERATOR","children":[{"mimes":{"text/plain":"|| "}}]},{"attributes":{},"tag":"CST_call","children":[{"attributes":{},"tag":"CST_call","children":[{"attributes":{},"tag":"CST_OPERATOR","children":[{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"Threads"}}]},{"attributes":{},"tag":"CST_OPERATOR","children":[{"mimes":{"text/plain":"."}}]},{"attributes":{},"tag":"CST_quotenode","children":[{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"nthreads"}}]}]}]},{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":"("}}]},{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":") "}}]}]},{"attributes":{},"tag":"CST_OPERATOR","children":[{"mimes":{"text/plain":"> "}}]},{"attributes":{},"tag":"CST_INTEGER","children":[{"mimes":{"text/plain":"1"}}]}]}]},{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":") "}}]}]},{"attributes":{},"tag":"CST_OPERATOR","children":[{"mimes":{"text/plain":"||\n        "}}]},{"attributes":{},"tag":"CST_call","children":[{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"error"}}]},{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":"("}}]},{"attributes":{},"tag":"CST_STRING","children":[{"mimes":{"text/plain":"\"Cannot load data off main thread with only one thread available. Pass `useprimary = true` or start Julia with >1 threads.\""}}]},{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":")\n    "}}]}]}]},{"attributes":{},"tag":"CST_return","children":[{"attributes":{},"tag":"CST_KEYWORD","children":[{"mimes":{"text/plain":"return "}}]},{"attributes":{},"tag":"CST_call","children":[{"attributes":{},"tag":"CST_curly","children":[{"attributes":{"reftype":"symbol","document_id":"references/DataLoaders.WorkerPool"},"tag":"reference","children":[{"mimes":{"text/plain":"WorkerPool"}}]},{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":"{"}}]},{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"TArgs"}}]},{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":"}"}}]}]},{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":"("}}]},{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"workerfn"}}]},{"attributes":{},"tag":"CST_PUNCTUATION","children":[{"mimes":{"text/plain":", "}}]},{"attributes":{},"tag":"CST_call","children":[{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"collect"}}]},{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":"("}}]},{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"args"}}]},{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":")"}}]}]},{"attributes":{},"tag":"CST_PUNCTUATION","children":[{"mimes":{"text/plain":", "}}]},{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"useprimary"}}]},{"attributes":{},"tag":"CST_PUNCTUATION","children":[{"mimes":{"text/plain":", "}}]},{"attributes":{"reftype":"symbol","document_id":"references/DataLoaders.Done"},"tag":"reference","children":[{"mimes":{"text/plain":"Done"}}]},{"attributes":{},"tag":"CST_PUNCTUATION","children":[{"mimes":{"text/plain":", "}}]},{"attributes":{},"tag":"CST_call","children":[{"attributes":{},"tag":"CST_curly","children":[{"attributes":{},"tag":"CST_OPERATOR","children":[{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"Threads"}}]},{"attributes":{},"tag":"CST_OPERATOR","children":[{"mimes":{"text/plain":"."}}]},{"attributes":{},"tag":"CST_quotenode","children":[{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"Atomic"}}]}]}]},{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":"{"}}]},{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"Int"}}]},{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":"}"}}]}]},{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":"("}}]},{"attributes":{},"tag":"CST_INTEGER","children":[{"mimes":{"text/plain":"0"}}]},{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":")"}}]}]},{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":")\n"}}]}]}]}]},{"attributes":{},"tag":"CST_KEYWORD","children":[{"mimes":{"text/plain":"end\n\n\n"}}]}]}]},{"attributes":{},"tag":"CST_DEFINITION","children":[{"attributes":{},"tag":"CST_function","children":[{"attributes":{},"tag":"CST_KEYWORD","children":[{"mimes":{"text/plain":"function "}}]},{"attributes":{},"tag":"CST_call","children":[{"attributes":{"reftype":"symbol","document_id":"references/DataLoaders.run"},"tag":"reference","children":[{"mimes":{"text/plain":"run"}}]},{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":"("}}]},{"attributes":{},"tag":"CST_OPERATOR","children":[{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"pool"}}]},{"attributes":{},"tag":"CST_OPERATOR","children":[{"mimes":{"text/plain":"::"}}]},{"attributes":{"reftype":"symbol","document_id":"references/DataLoaders.WorkerPool"},"tag":"reference","children":[{"mimes":{"text/plain":"WorkerPool"}}]}]},{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":")\n    "}}]}]},{"attributes":{},"tag":"CST_block","children":[{"attributes":{},"tag":"CST_OPERATOR","children":[{"attributes":{},"tag":"CST_OPERATOR","children":[{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"pool"}}]},{"attributes":{},"tag":"CST_OPERATOR","children":[{"mimes":{"text/plain":"."}}]},{"attributes":{},"tag":"CST_quotenode","children":[{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"state "}}]}]}]},{"attributes":{},"tag":"CST_OPERATOR","children":[{"mimes":{"text/plain":"= "}}]},{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"Running\n    # set remaining tasks counter.\n    "}}]}]},{"attributes":{},"tag":"CST_OPERATOR","children":[{"attributes":{},"tag":"CST_ref","children":[{"attributes":{},"tag":"CST_OPERATOR","children":[{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"pool"}}]},{"attributes":{},"tag":"CST_OPERATOR","children":[{"mimes":{"text/plain":"."}}]},{"attributes":{},"tag":"CST_quotenode","children":[{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"ntasks"}}]}]}]},{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":"["}}]},{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":"] "}}]}]},{"attributes":{},"tag":"CST_OPERATOR","children":[{"mimes":{"text/plain":"= "}}]},{"attributes":{},"tag":"CST_call","children":[{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"length"}}]},{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":"("}}]},{"attributes":{},"tag":"CST_OPERATOR","children":[{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"pool"}}]},{"attributes":{},"tag":"CST_OPERATOR","children":[{"mimes":{"text/plain":"."}}]},{"attributes":{},"tag":"CST_quotenode","children":[{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"args"}}]}]}]},{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":")\n\n    # watchdog that sends exception to main thread if a worker fails\n    "}}]}]}]},{"attributes":{},"tag":"CST_OPERATOR","children":[{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"maintask "}}]},{"attributes":{},"tag":"CST_OPERATOR","children":[{"mimes":{"text/plain":"= "}}]},{"attributes":{},"tag":"CST_call","children":[{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"current_task"}}]},{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":"("}}]},{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":")\n    "}}]}]}]},{"attributes":{},"tag":"CST_macrocall","children":[{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"@async "}}]},{"attributes":{},"tag":"CST_NOTHING","children":[{"mimes":{"text/plain":""}}]},{"attributes":{},"tag":"CST_block","children":[{"attributes":{},"tag":"CST_KEYWORD","children":[{"mimes":{"text/plain":"begin\n        "}}]},{"attributes":{},"tag":"CST_while","children":[{"attributes":{},"tag":"CST_KEYWORD","children":[{"mimes":{"text/plain":"while "}}]},{"attributes":{},"tag":"CST_call","children":[{"attributes":{},"tag":"CST_OPERATOR","children":[{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"pool"}}]},{"attributes":{},"tag":"CST_OPERATOR","children":[{"mimes":{"text/plain":"."}}]},{"attributes":{},"tag":"CST_quotenode","children":[{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"state "}}]}]}]},{"attributes":{},"tag":"CST_OPERATOR","children":[{"mimes":{"text/plain":"!== "}}]},{"attributes":{"reftype":"symbol","document_id":"references/DataLoaders.Done"},"tag":"reference","children":[{"mimes":{"text/plain":"Done\n            "}}]}]},{"attributes":{},"tag":"CST_block","children":[{"attributes":{},"tag":"CST_if","children":[{"attributes":{},"tag":"CST_KEYWORD","children":[{"mimes":{"text/plain":"if "}}]},{"attributes":{},"tag":"CST_call","children":[{"attributes":{},"tag":"CST_OPERATOR","children":[{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"pool"}}]},{"attributes":{},"tag":"CST_OPERATOR","children":[{"mimes":{"text/plain":"."}}]},{"attributes":{},"tag":"CST_quotenode","children":[{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"state "}}]}]}]},{"attributes":{},"tag":"CST_OPERATOR","children":[{"mimes":{"text/plain":"=== "}}]},{"attributes":{"reftype":"symbol","document_id":"references/DataLoaders.Failed"},"tag":"reference","children":[{"mimes":{"text/plain":"Failed\n                "}}]}]},{"attributes":{},"tag":"CST_block","children":[{"attributes":{},"tag":"CST_call","children":[{"attributes":{},"tag":"CST_OPERATOR","children":[{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"Base"}}]},{"attributes":{},"tag":"CST_OPERATOR","children":[{"mimes":{"text/plain":"."}}]},{"attributes":{},"tag":"CST_quotenode","children":[{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"throwto"}}]}]}]},{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":"(\n                    "}}]},{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"maintask"}}]},{"attributes":{},"tag":"CST_PUNCTUATION","children":[{"mimes":{"text/plain":",\n                    "}}]},{"attributes":{},"tag":"CST_call","children":[{"attributes":{"reftype":"symbol","document_id":"references/DataLoaders.PoolFailedException"},"tag":"reference","children":[{"mimes":{"text/plain":"PoolFailedException"}}]},{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":"("}}]},{"attributes":{},"tag":"CST_string","children":[{"attributes":{},"tag":"CST_STRING","children":[{"mimes":{"text/plain":"\"Failed to process all tasks. "}}]},{"attributes":{},"tag":"CST_OPERATOR","children":[{"mimes":{"text/plain":"$"}}]},{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":"("}}]},{"attributes":{},"tag":"CST_ref","children":[{"attributes":{},"tag":"CST_OPERATOR","children":[{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"pool"}}]},{"attributes":{},"tag":"CST_OPERATOR","children":[{"mimes":{"text/plain":"."}}]},{"attributes":{},"tag":"CST_quotenode","children":[{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"ntasks"}}]}]}]},{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":"["}}]},{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":"]"}}]}]},{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":")"}}]},{"attributes":{},"tag":"CST_STRING","children":[{"mimes":{"text/plain":" unfinished tasks remaining\""}}]}]},{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":")"}}]}]},{"attributes":{},"tag":"CST_PUNCTUATION","children":[{"mimes":{"text/plain":",\n                "}}]},{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":")\n            "}}]}]}]},{"attributes":{},"tag":"CST_KEYWORD","children":[{"mimes":{"text/plain":"end\n            "}}]}]},{"attributes":{},"tag":"CST_call","children":[{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"sleep"}}]},{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":"("}}]},{"attributes":{},"tag":"CST_FLOAT","children":[{"mimes":{"text/plain":"0.1"}}]},{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":")\n        "}}]}]}]},{"attributes":{},"tag":"CST_KEYWORD","children":[{"mimes":{"text/plain":"end\n    "}}]}]},{"attributes":{},"tag":"CST_KEYWORD","children":[{"mimes":{"text/plain":"end\n\n    "}}]}]}]},{"attributes":{},"tag":"CST_function","children":[{"attributes":{},"tag":"CST_KEYWORD","children":[{"mimes":{"text/plain":"function "}}]},{"attributes":{},"tag":"CST_call","children":[{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"inloop"}}]},{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":"("}}]},{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"args"}}]},{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":")\n        #for args in pool.args  # uncomment for debugging\n        # task error handling\n        "}}]}]},{"attributes":{},"tag":"CST_block","children":[{"attributes":{},"tag":"CST_OPERATOR","children":[{"attributes":{},"tag":"CST_call","children":[{"attributes":{},"tag":"CST_OPERATOR","children":[{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"pool"}}]},{"attributes":{},"tag":"CST_OPERATOR","children":[{"mimes":{"text/plain":"."}}]},{"attributes":{},"tag":"CST_quotenode","children":[{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"state "}}]}]}]},{"attributes":{},"tag":"CST_OPERATOR","children":[{"mimes":{"text/plain":"!== "}}]},{"attributes":{"reftype":"symbol","document_id":"references/DataLoaders.Failed"},"tag":"reference","children":[{"mimes":{"text/plain":"Failed "}}]}]},{"attributes":{},"tag":"CST_OPERATOR","children":[{"mimes":{"text/plain":"|| "}}]},{"attributes":{},"tag":"CST_call","children":[{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"error"}}]},{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":"("}}]},{"attributes":{},"tag":"CST_string","children":[{"attributes":{},"tag":"CST_STRING","children":[{"mimes":{"text/plain":"\"Shutting down worker "}}]},{"attributes":{},"tag":"CST_OPERATOR","children":[{"mimes":{"text/plain":"$"}}]},{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":"("}}]},{"attributes":{},"tag":"CST_call","children":[{"attributes":{},"tag":"CST_OPERATOR","children":[{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"Threads"}}]},{"attributes":{},"tag":"CST_OPERATOR","children":[{"mimes":{"text/plain":"."}}]},{"attributes":{},"tag":"CST_quotenode","children":[{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"threadid"}}]}]}]},{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":"("}}]},{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":")"}}]}]},{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":")"}}]},{"attributes":{},"tag":"CST_STRING","children":[{"mimes":{"text/plain":"\""}}]}]},{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":")\n        "}}]}]}]},{"attributes":{},"tag":"CST_try","children":[{"attributes":{},"tag":"CST_KEYWORD","children":[{"mimes":{"text/plain":"try\n            # execute task\n            "}}]},{"attributes":{},"tag":"CST_block","children":[{"attributes":{},"tag":"CST_call","children":[{"attributes":{},"tag":"CST_OPERATOR","children":[{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"pool"}}]},{"attributes":{},"tag":"CST_OPERATOR","children":[{"mimes":{"text/plain":"."}}]},{"attributes":{},"tag":"CST_quotenode","children":[{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"workerfn"}}]}]}]},{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":"("}}]},{"attributes":{},"tag":"CST_OPERATOR","children":[{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"args"}}]},{"attributes":{},"tag":"CST_OPERATOR","children":[{"mimes":{"text/plain":"..."}}]}]},{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":")\n            "}}]}]},{"attributes":{},"tag":"CST_call","children":[{"attributes":{},"tag":"CST_OPERATOR","children":[{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"Threads"}}]},{"attributes":{},"tag":"CST_OPERATOR","children":[{"mimes":{"text/plain":"."}}]},{"attributes":{},"tag":"CST_quotenode","children":[{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"atomic_add!"}}]}]}]},{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":"("}}]},{"attributes":{},"tag":"CST_OPERATOR","children":[{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"pool"}}]},{"attributes":{},"tag":"CST_OPERATOR","children":[{"mimes":{"text/plain":"."}}]},{"attributes":{},"tag":"CST_quotenode","children":[{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"ntasks"}}]}]}]},{"attributes":{},"tag":"CST_PUNCTUATION","children":[{"mimes":{"text/plain":", "}}]},{"attributes":{},"tag":"CST_INTEGER","children":[{"mimes":{"text/plain":"-1"}}]},{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":")\n        "}}]}]}]},{"attributes":{},"tag":"CST_KEYWORD","children":[{"mimes":{"text/plain":"catch "}}]},{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"e\n            "}}]},{"attributes":{},"tag":"CST_block","children":[{"attributes":{},"tag":"CST_call","children":[{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"println"}}]},{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":"("}}]},{"attributes":{},"tag":"CST_call","children":[{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"stacktrace"}}]},{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":"("}}]},{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":")"}}]}]},{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":")\n            "}}]}]},{"attributes":{},"tag":"CST_macrocall","children":[{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"@error "}}]},{"attributes":{},"tag":"CST_NOTHING","children":[{"mimes":{"text/plain":""}}]},{"attributes":{},"tag":"CST_string","children":[{"attributes":{},"tag":"CST_STRING","children":[{"mimes":{"text/plain":"\"Exception while executing task on worker "}}]},{"attributes":{},"tag":"CST_OPERATOR","children":[{"mimes":{"text/plain":"$"}}]},{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":"("}}]},{"attributes":{},"tag":"CST_call","children":[{"attributes":{},"tag":"CST_OPERATOR","children":[{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"Threads"}}]},{"attributes":{},"tag":"CST_OPERATOR","children":[{"mimes":{"text/plain":"."}}]},{"attributes":{},"tag":"CST_quotenode","children":[{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"threadid"}}]}]}]},{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":"("}}]},{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":")"}}]}]},{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":")"}}]},{"attributes":{},"tag":"CST_STRING","children":[{"mimes":{"text/plain":". Shutting down WorkerPool.\" "}}]}]},{"attributes":{},"tag":"CST_OPERATOR","children":[{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"e "}}]},{"attributes":{},"tag":"CST_OPERATOR","children":[{"mimes":{"text/plain":"=\n                "}}]},{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"e "}}]}]},{"attributes":{},"tag":"CST_OPERATOR","children":[{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"stacktrace "}}]},{"attributes":{},"tag":"CST_OPERATOR","children":[{"mimes":{"text/plain":"= "}}]},{"attributes":{},"tag":"CST_call","children":[{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"stacktrace"}}]},{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":"("}}]},{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":") "}}]}]}]},{"attributes":{},"tag":"CST_OPERATOR","children":[{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"args "}}]},{"attributes":{},"tag":"CST_OPERATOR","children":[{"mimes":{"text/plain":"= "}}]},{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"args\n            "}}]}]}]},{"attributes":{},"tag":"CST_OPERATOR","children":[{"attributes":{},"tag":"CST_OPERATOR","children":[{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"pool"}}]},{"attributes":{},"tag":"CST_OPERATOR","children":[{"mimes":{"text/plain":"."}}]},{"attributes":{},"tag":"CST_quotenode","children":[{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"state "}}]}]}]},{"attributes":{},"tag":"CST_OPERATOR","children":[{"mimes":{"text/plain":"= "}}]},{"attributes":{"reftype":"symbol","document_id":"references/DataLoaders.Failed"},"tag":"reference","children":[{"mimes":{"text/plain":"Failed\n            "}}]}]},{"attributes":{},"tag":"CST_call","children":[{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"rethrow"}}]},{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":"("}}]},{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":")\n        "}}]}]}]},{"attributes":{},"tag":"CST_KEYWORD","children":[{"mimes":{"text/plain":"end\n    "}}]}]}]},{"attributes":{},"tag":"CST_KEYWORD","children":[{"mimes":{"text/plain":"end\n\n    "}}]}]},{"attributes":{},"tag":"CST_if","children":[{"attributes":{},"tag":"CST_KEYWORD","children":[{"mimes":{"text/plain":"if "}}]},{"attributes":{},"tag":"CST_OPERATOR","children":[{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"pool"}}]},{"attributes":{},"tag":"CST_OPERATOR","children":[{"mimes":{"text/plain":"."}}]},{"attributes":{},"tag":"CST_quotenode","children":[{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"useprimary\n        "}}]}]}]},{"attributes":{},"tag":"CST_block","children":[{"attributes":{},"tag":"CST_macrocall","children":[{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"@qthreads "}}]},{"attributes":{},"tag":"CST_NOTHING","children":[{"mimes":{"text/plain":""}}]},{"attributes":{},"tag":"CST_for","children":[{"attributes":{},"tag":"CST_KEYWORD","children":[{"mimes":{"text/plain":"for "}}]},{"attributes":{},"tag":"CST_OPERATOR","children":[{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"args "}}]},{"attributes":{},"tag":"CST_OPERATOR","children":[{"mimes":{"text/plain":"in "}}]},{"attributes":{},"tag":"CST_OPERATOR","children":[{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"pool"}}]},{"attributes":{},"tag":"CST_OPERATOR","children":[{"mimes":{"text/plain":"."}}]},{"attributes":{},"tag":"CST_quotenode","children":[{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"args\n            "}}]}]}]}]},{"attributes":{},"tag":"CST_block","children":[{"attributes":{},"tag":"CST_call","children":[{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"inloop"}}]},{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":"("}}]},{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"args"}}]},{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":")\n        "}}]}]}]},{"attributes":{},"tag":"CST_KEYWORD","children":[{"mimes":{"text/plain":"end\n    "}}]}]}]}]},{"attributes":{},"tag":"CST_KEYWORD","children":[{"mimes":{"text/plain":"else\n        "}}]},{"attributes":{},"tag":"CST_block","children":[{"attributes":{},"tag":"CST_macrocall","children":[{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"@qbthreads "}}]},{"attributes":{},"tag":"CST_NOTHING","children":[{"mimes":{"text/plain":""}}]},{"attributes":{},"tag":"CST_for","children":[{"attributes":{},"tag":"CST_KEYWORD","children":[{"mimes":{"text/plain":"for "}}]},{"attributes":{},"tag":"CST_OPERATOR","children":[{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"args "}}]},{"attributes":{},"tag":"CST_OPERATOR","children":[{"mimes":{"text/plain":"in "}}]},{"attributes":{},"tag":"CST_OPERATOR","children":[{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"pool"}}]},{"attributes":{},"tag":"CST_OPERATOR","children":[{"mimes":{"text/plain":"."}}]},{"attributes":{},"tag":"CST_quotenode","children":[{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"args\n            "}}]}]}]}]},{"attributes":{},"tag":"CST_block","children":[{"attributes":{},"tag":"CST_call","children":[{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"inloop"}}]},{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":"("}}]},{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"args"}}]},{"attributes":{},"tag":"CST_BRACKET","children":[{"mimes":{"text/plain":")\n        "}}]}]}]},{"attributes":{},"tag":"CST_KEYWORD","children":[{"mimes":{"text/plain":"end\n    "}}]}]}]}]},{"attributes":{},"tag":"CST_KEYWORD","children":[{"mimes":{"text/plain":"end\n\n    # Tasks completed successfully\n    "}}]}]},{"attributes":{},"tag":"CST_OPERATOR","children":[{"attributes":{},"tag":"CST_OPERATOR","children":[{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"pool"}}]},{"attributes":{},"tag":"CST_OPERATOR","children":[{"mimes":{"text/plain":"."}}]},{"attributes":{},"tag":"CST_quotenode","children":[{"attributes":{},"tag":"CST_IDENTIFIER","children":[{"mimes":{"text/plain":"state "}}]}]}]},{"attributes":{},"tag":"CST_OPERATOR","children":[{"mimes":{"text/plain":"= "}}]},{"attributes":{"reftype":"symbol","document_id":"references/DataLoaders.Done"},"tag":"reference","children":[{"mimes":{"text/plain":"Done\n"}}]}]}]},{"attributes":{},"tag":"CST_KEYWORD","children":[{"mimes":{"text/plain":"end"}}]}]}]}]}]}